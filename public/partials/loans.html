<link rel="stylesheet" href="/styles/loanstylesheet.css" media="screen" title="no title">


  <div class="selectLoan">
    <button ng-click="addNewLoan()" type="button" name="button" class="btn btn-sm btn-primary"> Add new loan </button>
    <select ng-change="loan(selectedLoan)" ng-model="selectedLoan" ng-options="loan as loan.fromwho for loan in allLoans"></select>
  </div>


<!-- edit loan form -->
  <div class="editcontainer" ng-hide="editLoanForm">
      <form name="editLoanForm" novalidate id="editLoanForm">
        <div ng-model="selectedLoan" >
              From :  <input type="text" value="{{selectedLoan.fromwho}}"required ng-readonly="true">
            <div>
              Amount : <input  type="text" value="{{selectedLoan.amount}}" required ng-readonly="true">
            </div>
              Curent Interest Rate : {{selectedLoan.interestrate}}  <input type="text" placeholder="New Interest Rate" ng-model="newRate"><br>
              Current Duration : {{selectedLoan.duration}} <input type="text" name="name" placeholder="New Duration" required ng-model="newDuration"><br>
            <div>
              Current Monthly Payment : {{selectedLoan.monthlypayment}} <input type="text" placeholder="New monthly" ng-model="newMonthly" required> <br>
            </div>
            <div>
              <p>Notes : {{selectedLoan.notes}} || <input type="text" ng-model="newNotes" required placeholder="Add new notes here"> <br>
            </div>
              <button type="button" class="btn btn-sm btn-primary" ng-click="saveEditChanges()" name="button" ng-disabled="editLoanForm.$invalid"> Save Changes</button>
              <p>Log in a payment - </p>
              <input placeholder="Payment Amount" type="number" name="name" ng-model="paymentAmt" required="">
              <input type="date" name="name" ng-model="paymentDate" required="">
              <button type="button" class="btn btn-sm btn-primary" ng-click="makePayments()" name="button"> Save Payment </button>
        </div>
      </form>
  </div>


    <!-- loan payments display -->
    <div id="loanPayments" ng-hide="loanPayments">
      <div ng-repeat="loan in allLoanPayments">
         Payments Made:
        <p>Amount: {{loan.paymentamount}} Date: {{loan.paymentdate}}</p>
      </div>
    </div>


<!-- new loan form  -->
  <div class="newLoan" ng-hide="newLoanForm">
    <form name="newLoanForm" novalidate id="newLoanForm">
      <div ng-model="selectedLoan" >
          <input placeholder="From Who" type="text" ng-model="loanFromWho" required>
          <input placeholder="Amount" type="number" ng-model="loanAmount" required><br>
          <input placeholder="Duration" type="text" ng-model="loanDuration" required>
          <input placeholder="Intrest Rate" type="number" ng-model="loanInterestRate" required><br>
          <input placeholder="Monthly Payment" type="number" ng-model="loanMonthlyPayment" required><br>
          <input placeholder="Notes" type="text" ng-model="loanNotes" required><br>
          <button type="button" class="btn btn-sm btn-primary" ng-click="saveNewLoan()" name="button" ng-disabled="newLoanForm.$invalid"> Save </button>
      </div>
    </form>
  </div>
